<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Link Bootstrap 5 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../styles/loginStyles.css" />
    <title>Login</title>
  </head>
  <body>
    <!-- Caja que contiene todo el documento -->
    <div class="d-flex mt-5 mt-lg-0">
      <!-- Caja izquierda, que contiene y muestra la imagen desde tamaño lg -->
      <div class="d-none d-lg-block col-lg container-fluid p-0">
        <img
          class="w-100"
          src="../assets/photos/loginImage.jpg"
          alt="imagen registro"
        />
      </div>
      <!-- Caja derecha, contiene el formulario de login -->
      <div class="col-lg my-auto mx-auto">
        <!-- Caja que le da el tamaño al formulario -->
        <div class="mainBox">
          <!-- Con la caja de class p-4 logramos un padding mayor entre el los input y los bordes del formulario -->
          <div class="p-4">
            <!-- Contiene el texto del formulario -->
            <div>
              <h2 class="text-center py-4">Iniciá sesión</h2>
              <h5 class="text-center py-1 textColorH5">
                Nos alegra verte de nuevo!
              </h5>
            </div>
            <!-- Formulario -->
            <form id="loginForm" class="p-3 needs-validation" novalidate>
              <div class="mb-3">
                <label for="imputEmailLabel" class="form-label textColorH5"
                  >Email</label
                >
                <input
                  placeholder="usuario@email.com"
                  type="email"
                  class="form-control inputColor"
                  id="imputEmailLabel"
                  name="email"
                  aria-describedby="emailHelp"
                  pattern="^[^\s@]+@[^\s@]+\.[^\s@]+$"
                  required
                />
                <div class="valid-feedback">¡Perfecto!</div>
                <div class="invalid-feedback">
                  Ingresá un correo electrónico válido.
                </div>
              </div>
              <div class="mb-3">
                <label for="imputPassword1" class="form-label textColorH5"
                  >Contraseña</label
                >
                <input
                  name="password"
                  type="password"
                  class="form-control inputColor"
                  id="imputPassword1"
                  placeholder="**********"
                  pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$"
                  required
                />
                <div class="valid-feedback">¡Perfecto!</div>
                <div class="invalid-feedback">
                  "Ingrese una contraseña de: *Al menos 8 caracteres. *Que tenga
                  al menos una letra mayúscula, una letra minúscula y un número"
                </div>
              </div>
              <div class="mb-3 form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="checkBox1"
                />
                <label class="form-check-label textColorH5" for="checkBox1"
                  >No cerrar sesión</label
                >
              </div>
              <!-- MODAL DE RECUPERO DE CLAVE -->
              <div>
                <a
                  class="passwordRecoveryStyle"
                  data-bs-toggle="modal"
                  data-bs-target="#recuperoDeContraseña"
                >
                  ¿Olvidaste tu contraseña?
                </a>
                <div class="modal" id="recuperoDeContraseña" tabindex="-1">
                  <div class="modal-dialog">
                    <div class="modal-content modalDesign">
                      <div class="modal-body">
                        <div class="container-fluid">
                          <div class="d-flex justify-content-end">
                            <button
                              type="button"
                              class="btn-close"
                              data-bs-dismiss="modal"
                              aria-label="Close"
                            ></button>
                          </div>
                          <h2 class="text-center modalColorFont py-2">
                            ¿Olvidaste tu contraseña?
                          </h2>
                          <h5 class="text-center modalColorFont py-2">
                            ¡Ningún problema! Ahora te enviamos una nueva:
                          </h5>
                        </div>
                        <form
                          id="forgottenPassword"
                          class="needs-validation"
                          novalidate
                        >
                          <div class="mb-3">
                            <label
                              for="recuperoClave"
                              class="form-label modalColorFont"
                              >Email</label
                            >
                            <input
                              type="email"
                              name="email"
                              class="form-control inputColor"
                              id="recuperoClave"
                              placeholder="hola@email.com"
                              pattern="^[^\s@]+@[^\s@]+\.[^\s@]+$"
                              required
                            />
                            <div class="invalid-feedback">
                              Ingresá un correo electrónico válido
                            </div>
                          </div>
                          <div class="d-flex justify-content-center">
                            <button
                              type="submit"
                              form="forgottenPassword"
                              class="btn btn-primary py-2"
                            >
                              Enviar contraseña
                            </button>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="botones">
                <div class="d-flex justify-content-center">
                  <button
                    type="submit"
                    form="loginForm"
                    class="btn loginButton mb-2 w-75"
                  >
                    Iniciar sesión
                  </button>
                </div>
                <div class="py-1 d-flex justify-content-center">
                  <button
                    type="submit"
                    class="btn loginGoogle mb-2 w-75 d-flex flex-row"
                  >
                    <img
                      src="../assets/photos/googleIcon.png"
                      alt="google icon"
                      class="mx-auto googleIconSize"
                    />
                    <span class="mx-auto"> Iniciar sesión con Google</span>
                  </button>
                </div>
                <div class="py-1 d-flex justify-content-center">
                  <button
                    type="submit"
                    class="btn loginFacebook mb-2 w-75 d-flex flex-row"
                  >
                    <img
                      src="../assets/photos/facebookIcon.png"
                      alt="facebook icon"
                      class="mx-auto googleIconSize"
                    />
                    <span class="mx-auto"> Iniciar sesión con Facebook</span>
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- Link Bootstrap 5 -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    >
      // Example starter JavaScript for disabling form submissions if there are invalid fields
      (() => {
        "use strict";

        /*Se declara variable que corresponde a la clase .needs-validation*/
        const forms = document.querySelectorAll(".needs-validation");

        /*Se crea un arreglo que lista los "forms" existentes*/
        /*Con el forEach se recorre cada elemento de dicho arreglo*/
        /*Para la función, cada elemento del arreglo se llamará "form"*/

        Array.from(forms).forEach((form) => {
          /* addEventListener es un método que se utiliza para agregar un evento a un elemento HTML. El método acepta dos argumentos: el primer argumento es el nombre del evento que se va a agregar (en este caso, es "submit"), y el segundo argumento es la función que se ejecutará cuando se produzca ese evento.*/
          form.addEventListener(
            "submit",
            (event) => {
              if (!form.checkValidity()) {
                /*form.checkValidity es una función que devuelve un valor booleano que indica si un formulario es válido o no según sus restricciones de validación. Con el ! delante, podemos leerlo como "Si el formulario NO es válido...."*/
                event.preventDefault();
                /*event.preventDefault() es un método que se utiliza en JavaScript para detener la acción predeterminada de un evento. Por ejemplo, si se utiliza en el evento de envío de un formulario, se detendrá el envío del formulario y se evitará que la página se recargue*/
                event.stopPropagation();
              }
              /*event.stopPropagation() es un método que detiene la propagación de un evento más allá del elemento actual en el que se ha producido. Cuando un evento ocurre en un elemento HTML, se propaga hacia arriba en la jerarquía del DOM, afectando a los elementos secundarios. Al usar event.stopPropagation(), se detiene la propagación del evento y evita que afecte a elementos secundarios.*/

              form.classList.add("was-validated");
              /*agrega una clase was-validated al elemento form cuando se envía el formulario y se pasa la validación de Bootstrap. La clase was-validated es una clase de estilo predefinida de Bootstrap que agrega un estilo especial a los campos de formulario para indicar que han sido validados. Por lo tanto, después de agregar la clase was-validated al elemento form, los campos de formulario validados se resaltarán en verde, mientras que los campos no válidos se resaltarán en rojo.*/
            },
            false
          );
        });
      })();
    </script>
  </body>
</html>
